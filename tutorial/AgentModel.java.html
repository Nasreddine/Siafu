<!DOCTYPE html PUBLIC '-//W3C//DTD HTML 4.01 Transitional//EN'>
<html>
<head>
<title>HTML of AgentModel</title>
<meta http-equiv='content-type' content='text/html;charset=ISO-8859-1'>
<link rel='stylesheet' title='Syntax Highlighting' href='syntax.css' type='text/css'>
</head>
<body>

<pre><span class=reservedWord>package</span><span class=whitespace> </span><span class=identifier>de</span><span class=separator>.</span><span class=identifier>nec</span><span class=separator>.</span><span class=identifier>nle</span><span class=separator>.</span><span class=identifier>siafu</span><span class=separator>.</span><span class=identifier>testland</span><span class=separator>;</span><span class=whitespace>

</span><span class=reservedWord>import</span><span class=whitespace> </span><span class=reservedWord>static</span><span class=whitespace> </span><span class=identifier>de</span><span class=separator>.</span><span class=identifier>nec</span><span class=separator>.</span><span class=identifier>nle</span><span class=separator>.</span><span class=identifier>siafu</span><span class=separator>.</span><span class=identifier>testland</span><span class=separator>.</span><span class=identifier>Constants</span><span class=separator>.</span><span class=identifier>POPULATION</span><span class=separator>;</span><span class=whitespace>
</span><span class=reservedWord>import</span><span class=whitespace> </span><span class=reservedWord>static</span><span class=whitespace> </span><span class=identifier>de</span><span class=separator>.</span><span class=identifier>nec</span><span class=separator>.</span><span class=identifier>nle</span><span class=separator>.</span><span class=identifier>siafu</span><span class=separator>.</span><span class=identifier>testland</span><span class=separator>.</span><span class=identifier>Constants</span><span class=separator>.</span><span class=identifier>Fields</span><span class=separator>.</span><span class=identifier>ACTIVITY</span><span class=separator>;</span><span class=whitespace>

</span><span class=reservedWord>import</span><span class=whitespace> </span><span class=identifier>java</span><span class=separator>.</span><span class=identifier>util</span><span class=separator>.</span><span class=identifier>ArrayList</span><span class=separator>;</span><span class=whitespace>
</span><span class=reservedWord>import</span><span class=whitespace> </span><span class=identifier>java</span><span class=separator>.</span><span class=identifier>util</span><span class=separator>.</span><span class=identifier>Calendar</span><span class=separator>;</span><span class=whitespace>
</span><span class=reservedWord>import</span><span class=whitespace> </span><span class=identifier>java</span><span class=separator>.</span><span class=identifier>util</span><span class=separator>.</span><span class=identifier>Collection</span><span class=separator>;</span><span class=whitespace>
</span><span class=reservedWord>import</span><span class=whitespace> </span><span class=identifier>java</span><span class=separator>.</span><span class=identifier>util</span><span class=separator>.</span><span class=identifier>Iterator</span><span class=separator>;</span><span class=whitespace>
</span><span class=reservedWord>import</span><span class=whitespace> </span><span class=identifier>java</span><span class=separator>.</span><span class=identifier>util</span><span class=separator>.</span><span class=identifier>Random</span><span class=separator>;</span><span class=whitespace>

</span><span class=reservedWord>import</span><span class=whitespace> </span><span class=identifier>de</span><span class=separator>.</span><span class=identifier>nec</span><span class=separator>.</span><span class=identifier>nle</span><span class=separator>.</span><span class=identifier>siafu</span><span class=separator>.</span><span class=identifier>behaviormodels</span><span class=separator>.</span><span class=identifier>BaseAgentModel</span><span class=separator>;</span><span class=whitespace>
</span><span class=reservedWord>import</span><span class=whitespace> </span><span class=identifier>de</span><span class=separator>.</span><span class=identifier>nec</span><span class=separator>.</span><span class=identifier>nle</span><span class=separator>.</span><span class=identifier>siafu</span><span class=separator>.</span><span class=identifier>model</span><span class=separator>.</span><span class=identifier>Agent</span><span class=separator>;</span><span class=whitespace>
</span><span class=reservedWord>import</span><span class=whitespace> </span><span class=identifier>de</span><span class=separator>.</span><span class=identifier>nec</span><span class=separator>.</span><span class=identifier>nle</span><span class=separator>.</span><span class=identifier>siafu</span><span class=separator>.</span><span class=identifier>model</span><span class=separator>.</span><span class=identifier>Place</span><span class=separator>;</span><span class=whitespace>
</span><span class=reservedWord>import</span><span class=whitespace> </span><span class=identifier>de</span><span class=separator>.</span><span class=identifier>nec</span><span class=separator>.</span><span class=identifier>nle</span><span class=separator>.</span><span class=identifier>siafu</span><span class=separator>.</span><span class=identifier>model</span><span class=separator>.</span><span class=identifier>World</span><span class=separator>;</span><span class=whitespace>
</span><span class=reservedWord>import</span><span class=whitespace> </span><span class=identifier>de</span><span class=separator>.</span><span class=identifier>nec</span><span class=separator>.</span><span class=identifier>nle</span><span class=separator>.</span><span class=identifier>siafu</span><span class=separator>.</span><span class=identifier>testland</span><span class=separator>.</span><span class=identifier>Constants</span><span class=separator>.</span><span class=identifier>Activity</span><span class=separator>;</span><span class=whitespace>
</span><span class=reservedWord>import</span><span class=whitespace> </span><span class=identifier>de</span><span class=separator>.</span><span class=identifier>nec</span><span class=separator>.</span><span class=identifier>nle</span><span class=separator>.</span><span class=identifier>siafu</span><span class=separator>.</span><span class=identifier>types</span><span class=separator>.</span><span class=identifier>EasyTime</span><span class=separator>;</span><span class=whitespace>
</span><span class=reservedWord>import</span><span class=whitespace> </span><span class=identifier>de</span><span class=separator>.</span><span class=identifier>nec</span><span class=separator>.</span><span class=identifier>nle</span><span class=separator>.</span><span class=identifier>siafu</span><span class=separator>.</span><span class=identifier>types</span><span class=separator>.</span><span class=identifier>Text</span><span class=separator>;</span><span class=whitespace>

</span><span class=comment>/**
 * This Agent Model defines the behavior of users in this test simulation.
 * Essentially, most users will wander around in a zombie like state, except
 * for Pietro and Teresa, who will stay put, and the postman, who will spend a
 * simulation life time running between the two ends of the map.
 * 
 * @author Miquel Martin
 * 
 */</span><span class=whitespace>
</span><span class=reservedWord>public</span><span class=whitespace> </span><span class=reservedWord>class</span><span class=whitespace> </span><span class=identifier>AgentModel</span><span class=whitespace> </span><span class=reservedWord>extends</span><span class=whitespace> </span><span class=identifier>BaseAgentModel</span><span class=whitespace> </span><span class=separator>{</span><span class=whitespace>

	</span><span class=comment>/**
	 * The time at which the psotman moves fastest.
	 */</span><span class=whitespace>
	</span><span class=reservedWord>private</span><span class=whitespace> </span><span class=reservedWord>static</span><span class=whitespace> </span><span class=reservedWord>final</span><span class=whitespace> </span><span class=reservedWord>int</span><span class=whitespace> </span><span class=identifier>POSTMAN_PEAK</span><span class=whitespace> </span><span class=operator>=</span><span class=whitespace> </span><span class=literal>12</span><span class=separator>;</span><span class=whitespace>

	</span><span class=comment>/**
	 * A random number generator.
	 */</span><span class=whitespace>
	</span><span class=reservedWord>private</span><span class=whitespace> </span><span class=reservedWord>static</span><span class=whitespace> </span><span class=reservedWord>final</span><span class=whitespace> </span><span class=identifier>Random</span><span class=whitespace> </span><span class=identifier>RAND</span><span class=whitespace> </span><span class=operator>=</span><span class=whitespace> </span><span class=reservedWord>new</span><span class=whitespace> </span><span class=identifier>Random</span><span class=separator>();</span><span class=whitespace>

	</span><span class=comment>/**
	 * The top speed at which agents will move.
	 */</span><span class=whitespace>
	</span><span class=reservedWord>private</span><span class=whitespace> </span><span class=reservedWord>static</span><span class=whitespace> </span><span class=reservedWord>final</span><span class=whitespace> </span><span class=reservedWord>int</span><span class=whitespace> </span><span class=identifier>TOP_SPEED</span><span class=whitespace> </span><span class=operator>=</span><span class=whitespace> </span><span class=literal>10</span><span class=separator>;</span><span class=whitespace>

	</span><span class=comment>/**
	 * A special user that plays a courrier of the Czar.
	 */</span><span class=whitespace>
	</span><span class=reservedWord>private</span><span class=whitespace> </span><span class=identifier>Agent</span><span class=whitespace> </span><span class=identifier>postman</span><span class=separator>;</span><span class=whitespace>

	</span><span class=comment>/**
	 * The current time.
	 */</span><span class=whitespace>
	</span><span class=reservedWord>private</span><span class=whitespace> </span><span class=identifier>EasyTime</span><span class=whitespace> </span><span class=identifier>now</span><span class=separator>;</span><span class=whitespace>

	</span><span class=comment>/** Place one in the simulation. */</span><span class=whitespace>
	</span><span class=reservedWord>private</span><span class=whitespace> </span><span class=identifier>Place</span><span class=whitespace> </span><span class=identifier>placeOne</span><span class=separator>;</span><span class=whitespace>

	</span><span class=comment>/** Place two in the simulation. */</span><span class=whitespace>
	</span><span class=reservedWord>private</span><span class=whitespace> </span><span class=identifier>Place</span><span class=whitespace> </span><span class=identifier>placeTwo</span><span class=separator>;</span><span class=whitespace>

	</span><span class=comment>/**
	 * Constructor for the agent model.
	 * 
	 * @param world the simulation's world
	 */</span><span class=whitespace>
	</span><span class=reservedWord>public</span><span class=whitespace> </span><span class=identifier>AgentModel</span><span class=separator>(</span><span class=reservedWord>final</span><span class=whitespace> </span><span class=identifier>World</span><span class=whitespace> </span><span class=identifier>world</span><span class=separator>)</span><span class=whitespace> </span><span class=separator>{</span><span class=whitespace>
		</span><span class=reservedWord>super</span><span class=separator>(</span><span class=identifier>world</span><span class=separator>);</span><span class=whitespace>
	</span><span class=separator>}</span><span class=whitespace>

	</span><span class=comment>/**
	 * Create a bunch of agents that will wander around aimlessly. Tweak them
	 * for testing purposes as needed. Two agents, Pietro and Teresa, are
	 * singled out and left under the control of the user. A third agent,
	 * Postman, is set to run errands between the two places int he map.
	 * 
	 * @return the created agents
	 */</span><span class=whitespace>
	</span><span class=reservedWord>public</span><span class=whitespace> </span><span class=identifier>ArrayList</span><span class=operator>&lt;</span><span class=identifier>Agent</span><span class=operator>&gt;</span><span class=whitespace> </span><span class=identifier>createAgents</span><span class=separator>()</span><span class=whitespace> </span><span class=separator>{</span><span class=whitespace>
		</span><span class=identifier>System</span><span class=separator>.</span><span class=identifier>out</span><span class=separator>.</span><span class=identifier>println</span><span class=separator>(</span><span class=literal>&quot;Creating &quot;</span><span class=whitespace> </span><span class=operator>+</span><span class=whitespace> </span><span class=identifier>POPULATION</span><span class=whitespace> </span><span class=operator>+</span><span class=whitespace> </span><span class=literal>&quot; people.&quot;</span><span class=separator>);</span><span class=whitespace>
		</span><span class=identifier>ArrayList</span><span class=operator>&lt;</span><span class=identifier>Agent</span><span class=operator>&gt;</span><span class=whitespace> </span><span class=identifier>people</span><span class=whitespace> </span><span class=operator>=</span><span class=whitespace>
				</span><span class=identifier>AgentGenerator</span><span class=separator>.</span><span class=identifier>createRandomPopulation</span><span class=separator>(</span><span class=identifier>POPULATION</span><span class=separator>,</span><span class=whitespace> </span><span class=identifier>world</span><span class=separator>);</span><span class=whitespace>

		</span><span class=reservedWord>for</span><span class=whitespace> </span><span class=separator>(</span><span class=identifier>Agent</span><span class=whitespace> </span><span class=identifier>a</span><span class=whitespace> </span><span class=operator>:</span><span class=whitespace> </span><span class=identifier>people</span><span class=separator>)</span><span class=whitespace> </span><span class=separator>{</span><span class=whitespace>
			</span><span class=identifier>a</span><span class=separator>.</span><span class=identifier>set</span><span class=separator>(</span><span class=identifier>ACTIVITY</span><span class=separator>,</span><span class=whitespace> </span><span class=identifier>Activity</span><span class=separator>.</span><span class=identifier>WALKING</span><span class=separator>);</span><span class=whitespace>
			</span><span class=identifier>a</span><span class=separator>.</span><span class=identifier>setSpeed</span><span class=separator>(</span><span class=literal>1</span><span class=whitespace> </span><span class=operator>+</span><span class=whitespace> </span><span class=identifier>RAND</span><span class=separator>.</span><span class=identifier>nextInt</span><span class=separator>(</span><span class=identifier>TOP_SPEED</span><span class=separator>));</span><span class=whitespace>
			</span><span class=identifier>a</span><span class=separator>.</span><span class=identifier>setVisible</span><span class=separator>(</span><span class=literal>true</span><span class=separator>);</span><span class=whitespace>
		</span><span class=separator>}</span><span class=whitespace>

		</span><span class=identifier>Iterator</span><span class=operator>&lt;</span><span class=identifier>Agent</span><span class=operator>&gt;</span><span class=whitespace> </span><span class=identifier>peopleIt</span><span class=whitespace> </span><span class=operator>=</span><span class=whitespace> </span><span class=identifier>people</span><span class=separator>.</span><span class=identifier>iterator</span><span class=separator>();</span><span class=whitespace>
		</span><span class=identifier>Agent</span><span class=whitespace> </span><span class=identifier>teresa</span><span class=whitespace> </span><span class=operator>=</span><span class=whitespace> </span><span class=identifier>peopleIt</span><span class=separator>.</span><span class=identifier>next</span><span class=separator>();</span><span class=whitespace>
		</span><span class=identifier>Agent</span><span class=whitespace> </span><span class=identifier>pietro</span><span class=whitespace> </span><span class=operator>=</span><span class=whitespace> </span><span class=identifier>peopleIt</span><span class=separator>.</span><span class=identifier>next</span><span class=separator>();</span><span class=whitespace>
		</span><span class=identifier>postman</span><span class=whitespace> </span><span class=operator>=</span><span class=whitespace> </span><span class=identifier>peopleIt</span><span class=separator>.</span><span class=identifier>next</span><span class=separator>();</span><span class=whitespace>
		</span><span class=identifier>Agent</span><span class=whitespace> </span><span class=identifier>isolated</span><span class=whitespace> </span><span class=operator>=</span><span class=whitespace> </span><span class=identifier>peopleIt</span><span class=separator>.</span><span class=identifier>next</span><span class=separator>();</span><span class=whitespace>

		</span><span class=identifier>Iterator</span><span class=operator>&lt;</span><span class=identifier>Place</span><span class=operator>&gt;</span><span class=whitespace> </span><span class=identifier>nowheres</span><span class=whitespace> </span><span class=operator>=</span><span class=whitespace>
				</span><span class=identifier>world</span><span class=separator>.</span><span class=identifier>getPlacesOfType</span><span class=separator>(</span><span class=literal>&quot;Nowhere&quot;</span><span class=separator>).</span><span class=identifier>iterator</span><span class=separator>();</span><span class=whitespace>
		</span><span class=identifier>placeOne</span><span class=whitespace> </span><span class=operator>=</span><span class=whitespace> </span><span class=identifier>nowheres</span><span class=separator>.</span><span class=identifier>next</span><span class=separator>();</span><span class=whitespace>
		</span><span class=identifier>placeTwo</span><span class=whitespace> </span><span class=operator>=</span><span class=whitespace> </span><span class=identifier>nowheres</span><span class=separator>.</span><span class=identifier>next</span><span class=separator>();</span><span class=whitespace>

		</span><span class=identifier>teresa</span><span class=separator>.</span><span class=identifier>setName</span><span class=separator>(</span><span class=literal>&quot;Teresa&quot;</span><span class=separator>);</span><span class=whitespace>
		</span><span class=identifier>teresa</span><span class=separator>.</span><span class=identifier>setPos</span><span class=separator>(</span><span class=identifier>placeOne</span><span class=separator>.</span><span class=identifier>getPos</span><span class=separator>());</span><span class=whitespace>
		</span><span class=identifier>teresa</span><span class=separator>.</span><span class=identifier>setImage</span><span class=separator>(</span><span class=literal>&quot;HumanMagenta&quot;</span><span class=separator>);</span><span class=whitespace>
		</span><span class=identifier>teresa</span><span class=separator>.</span><span class=identifier>setVisible</span><span class=separator>(</span><span class=literal>true</span><span class=separator>);</span><span class=whitespace>
		</span><span class=identifier>teresa</span><span class=separator>.</span><span class=identifier>setSpeed</span><span class=separator>(</span><span class=identifier>TOP_SPEED</span><span class=separator>);</span><span class=whitespace>
		</span><span class=identifier>teresa</span><span class=separator>.</span><span class=identifier>getControl</span><span class=separator>();</span><span class=whitespace>
		</span><span class=identifier>teresa</span><span class=separator>.</span><span class=identifier>set</span><span class=separator>(</span><span class=literal>&quot;Language&quot;</span><span class=separator>,</span><span class=whitespace> </span><span class=reservedWord>new</span><span class=whitespace> </span><span class=identifier>Text</span><span class=separator>(</span><span class=literal>&quot;German&quot;</span><span class=separator>));</span><span class=whitespace>

		</span><span class=identifier>pietro</span><span class=separator>.</span><span class=identifier>setName</span><span class=separator>(</span><span class=literal>&quot;Pietro&quot;</span><span class=separator>);</span><span class=whitespace>
		</span><span class=identifier>pietro</span><span class=separator>.</span><span class=identifier>setPos</span><span class=separator>(</span><span class=identifier>placeTwo</span><span class=separator>.</span><span class=identifier>getPos</span><span class=separator>());</span><span class=whitespace>
		</span><span class=identifier>pietro</span><span class=separator>.</span><span class=identifier>setImage</span><span class=separator>(</span><span class=literal>&quot;HumanBlue&quot;</span><span class=separator>);</span><span class=whitespace>
		</span><span class=identifier>pietro</span><span class=separator>.</span><span class=identifier>setVisible</span><span class=separator>(</span><span class=literal>true</span><span class=separator>);</span><span class=whitespace>
		</span><span class=identifier>pietro</span><span class=separator>.</span><span class=identifier>setSpeed</span><span class=separator>(</span><span class=literal>2</span><span class=separator>);</span><span class=whitespace>
		</span><span class=identifier>pietro</span><span class=separator>.</span><span class=identifier>getControl</span><span class=separator>();</span><span class=whitespace>
		</span><span class=identifier>pietro</span><span class=separator>.</span><span class=identifier>set</span><span class=separator>(</span><span class=literal>&quot;Language&quot;</span><span class=separator>,</span><span class=whitespace> </span><span class=reservedWord>new</span><span class=whitespace> </span><span class=identifier>Text</span><span class=separator>(</span><span class=literal>&quot;English&quot;</span><span class=separator>));</span><span class=whitespace>

		</span><span class=identifier>postman</span><span class=separator>.</span><span class=identifier>setName</span><span class=separator>(</span><span class=literal>&quot;Postman&quot;</span><span class=separator>);</span><span class=whitespace>
		</span><span class=identifier>postman</span><span class=separator>.</span><span class=identifier>setPos</span><span class=separator>(</span><span class=identifier>placeTwo</span><span class=separator>.</span><span class=identifier>getPos</span><span class=separator>());</span><span class=whitespace>
		</span><span class=identifier>postman</span><span class=separator>.</span><span class=identifier>setImage</span><span class=separator>(</span><span class=literal>&quot;HumanGreen&quot;</span><span class=separator>);</span><span class=whitespace>
		</span><span class=identifier>postman</span><span class=separator>.</span><span class=identifier>setVisible</span><span class=separator>(</span><span class=literal>true</span><span class=separator>);</span><span class=whitespace>
		</span><span class=identifier>postman</span><span class=separator>.</span><span class=identifier>setSpeed</span><span class=separator>(</span><span class=literal>2</span><span class=separator>);</span><span class=whitespace>
		</span><span class=identifier>postman</span><span class=separator>.</span><span class=identifier>getControl</span><span class=separator>();</span><span class=whitespace>
		</span><span class=identifier>postman</span><span class=separator>.</span><span class=identifier>set</span><span class=separator>(</span><span class=literal>&quot;Language&quot;</span><span class=separator>,</span><span class=whitespace> </span><span class=reservedWord>new</span><span class=whitespace> </span><span class=identifier>Text</span><span class=separator>(</span><span class=literal>&quot;Russian&quot;</span><span class=separator>));</span><span class=whitespace>

		</span><span class=identifier>isolated</span><span class=separator>.</span><span class=identifier>setPos</span><span class=separator>(</span><span class=identifier>world</span><span class=separator>.</span><span class=identifier>getPlacesOfType</span><span class=separator>(</span><span class=literal>&quot;Isolated&quot;</span><span class=separator>).</span><span class=identifier>iterator</span><span class=separator>()</span><span class=whitespace>
				</span><span class=separator>.</span><span class=identifier>next</span><span class=separator>().</span><span class=identifier>getPos</span><span class=separator>());</span><span class=whitespace>
		</span><span class=reservedWord>return</span><span class=whitespace> </span><span class=identifier>people</span><span class=separator>;</span><span class=whitespace>
	</span><span class=separator>}</span><span class=whitespace>

	</span><span class=comment>/**
	 * Make all the normal agents wander around, and the postman, run errands
	 * from one place to another. His speed depends on the time, slowing down
	 * at night.
	 * 
	 * @param agents the list of agents
	 */</span><span class=whitespace>
	</span><span class=reservedWord>public</span><span class=whitespace> </span><span class=reservedWord>void</span><span class=whitespace> </span><span class=identifier>doIteration</span><span class=separator>(</span><span class=reservedWord>final</span><span class=whitespace> </span><span class=identifier>Collection</span><span class=operator>&lt;</span><span class=identifier>Agent</span><span class=operator>&gt;</span><span class=whitespace> </span><span class=identifier>agents</span><span class=separator>)</span><span class=whitespace> </span><span class=separator>{</span><span class=whitespace>
		</span><span class=identifier>Calendar</span><span class=whitespace> </span><span class=identifier>time</span><span class=whitespace> </span><span class=operator>=</span><span class=whitespace> </span><span class=identifier>world</span><span class=separator>.</span><span class=identifier>getTime</span><span class=separator>();</span><span class=whitespace>
		</span><span class=identifier>now</span><span class=whitespace> </span><span class=operator>=</span><span class=whitespace>
				</span><span class=reservedWord>new</span><span class=whitespace> </span><span class=identifier>EasyTime</span><span class=separator>(</span><span class=identifier>time</span><span class=separator>.</span><span class=identifier>get</span><span class=separator>(</span><span class=identifier>Calendar</span><span class=separator>.</span><span class=identifier>HOUR_OF_DAY</span><span class=separator>),</span><span class=whitespace> </span><span class=identifier>time</span><span class=whitespace>
						</span><span class=separator>.</span><span class=identifier>get</span><span class=separator>(</span><span class=identifier>Calendar</span><span class=separator>.</span><span class=identifier>MINUTE</span><span class=separator>));</span><span class=whitespace>
		</span><span class=identifier>handlePostman</span><span class=separator>();</span><span class=whitespace>
		</span><span class=reservedWord>for</span><span class=whitespace> </span><span class=separator>(</span><span class=identifier>Agent</span><span class=whitespace> </span><span class=identifier>a</span><span class=whitespace> </span><span class=operator>:</span><span class=whitespace> </span><span class=identifier>agents</span><span class=separator>)</span><span class=whitespace> </span><span class=separator>{</span><span class=whitespace>
			</span><span class=reservedWord>if</span><span class=whitespace> </span><span class=separator>(</span><span class=operator>!</span><span class=identifier>a</span><span class=separator>.</span><span class=identifier>isOnAuto</span><span class=separator>())</span><span class=whitespace> </span><span class=separator>{</span><span class=whitespace>
				</span><span class=reservedWord>continue</span><span class=separator>;</span><span class=whitespace> </span><span class=comment>// This guy's being managed by the user interface</span><span class=whitespace>
			</span><span class=separator>}</span><span class=whitespace>
			</span><span class=reservedWord>if</span><span class=whitespace> </span><span class=separator>(</span><span class=identifier>a</span><span class=separator>.</span><span class=identifier>equals</span><span class=separator>(</span><span class=identifier>postman</span><span class=separator>))</span><span class=whitespace> </span><span class=separator>{</span><span class=whitespace>
				</span><span class=reservedWord>continue</span><span class=separator>;</span><span class=whitespace>
			</span><span class=separator>}</span><span class=whitespace>
			</span><span class=identifier>handlePerson</span><span class=separator>(</span><span class=identifier>a</span><span class=separator>);</span><span class=whitespace>
		</span><span class=separator>}</span><span class=whitespace>
	</span><span class=separator>}</span><span class=whitespace>

	</span><span class=comment>/**
	 * Move the postman from one place to the next, increasing the speed the
	 * closer to noon it is.
	 * 
	 */</span><span class=whitespace>
	</span><span class=reservedWord>private</span><span class=whitespace> </span><span class=reservedWord>void</span><span class=whitespace> </span><span class=identifier>handlePostman</span><span class=separator>()</span><span class=whitespace> </span><span class=separator>{</span><span class=whitespace>
		</span><span class=identifier>postman</span><span class=separator>.</span><span class=identifier>setSpeed</span><span class=separator>(</span><span class=identifier>POSTMAN_PEAK</span><span class=whitespace>
				</span><span class=operator>-</span><span class=whitespace> </span><span class=identifier>Math</span><span class=separator>.</span><span class=identifier>abs</span><span class=separator>(</span><span class=identifier>POSTMAN_PEAK</span><span class=whitespace> </span><span class=operator>-</span><span class=whitespace> </span><span class=identifier>now</span><span class=separator>.</span><span class=identifier>getHour</span><span class=separator>()));</span><span class=whitespace>
		</span><span class=reservedWord>if</span><span class=whitespace> </span><span class=separator>(</span><span class=identifier>postman</span><span class=separator>.</span><span class=identifier>isAtDestination</span><span class=separator>())</span><span class=whitespace> </span><span class=separator>{</span><span class=whitespace>
			</span><span class=reservedWord>if</span><span class=whitespace> </span><span class=separator>(</span><span class=identifier>postman</span><span class=separator>.</span><span class=identifier>getPos</span><span class=separator>().</span><span class=identifier>equals</span><span class=separator>(</span><span class=identifier>placeOne</span><span class=separator>.</span><span class=identifier>getPos</span><span class=separator>()))</span><span class=whitespace> </span><span class=separator>{</span><span class=whitespace>
				</span><span class=identifier>postman</span><span class=separator>.</span><span class=identifier>setDestination</span><span class=separator>(</span><span class=identifier>placeTwo</span><span class=separator>);</span><span class=whitespace>
			</span><span class=separator>}</span><span class=whitespace> </span><span class=reservedWord>else</span><span class=whitespace> </span><span class=separator>{</span><span class=whitespace>
				</span><span class=identifier>postman</span><span class=separator>.</span><span class=identifier>setDestination</span><span class=separator>(</span><span class=identifier>placeOne</span><span class=separator>);</span><span class=whitespace>
			</span><span class=separator>}</span><span class=whitespace>
		</span><span class=separator>}</span><span class=whitespace>
	</span><span class=separator>}</span><span class=whitespace>

	</span><span class=comment>/**
	 * Keep the agent wandering around zombie style.
	 * 
	 * @param a the agent to zombiefy
	 */</span><span class=whitespace>
	</span><span class=reservedWord>private</span><span class=whitespace> </span><span class=reservedWord>void</span><span class=whitespace> </span><span class=identifier>handlePerson</span><span class=separator>(</span><span class=reservedWord>final</span><span class=whitespace> </span><span class=identifier>Agent</span><span class=whitespace> </span><span class=identifier>a</span><span class=separator>)</span><span class=whitespace> </span><span class=separator>{</span><span class=whitespace>
		</span><span class=reservedWord>switch</span><span class=whitespace> </span><span class=separator>((</span><span class=identifier>Activity</span><span class=separator>)</span><span class=whitespace> </span><span class=identifier>a</span><span class=separator>.</span><span class=identifier>get</span><span class=separator>(</span><span class=identifier>ACTIVITY</span><span class=separator>))</span><span class=whitespace> </span><span class=separator>{</span><span class=whitespace>
		</span><span class=reservedWord>case</span><span class=whitespace> </span><span class=identifier>WAITING</span><span class=operator>:</span><span class=whitespace>
			</span><span class=reservedWord>break</span><span class=separator>;</span><span class=whitespace>

		</span><span class=reservedWord>case</span><span class=whitespace> </span><span class=identifier>WALKING</span><span class=operator>:</span><span class=whitespace>
			</span><span class=identifier>a</span><span class=separator>.</span><span class=identifier>wander</span><span class=separator>();</span><span class=whitespace>
			</span><span class=reservedWord>break</span><span class=separator>;</span><span class=whitespace>
		</span><span class=reservedWord>default</span><span class=operator>:</span><span class=whitespace>
			</span><span class=reservedWord>throw</span><span class=whitespace> </span><span class=reservedWord>new</span><span class=whitespace> </span><span class=identifier>RuntimeException</span><span class=separator>(</span><span class=literal>&quot;Unable to handle activity &quot;</span><span class=whitespace>
					</span><span class=operator>+</span><span class=whitespace> </span><span class=separator>(</span><span class=identifier>Activity</span><span class=separator>)</span><span class=whitespace> </span><span class=identifier>a</span><span class=separator>.</span><span class=identifier>get</span><span class=separator>(</span><span class=identifier>ACTIVITY</span><span class=separator>));</span><span class=whitespace>
		</span><span class=separator>}</span><span class=whitespace>

	</span><span class=separator>}</span><span class=whitespace>
</span><span class=separator>}</span><span class=whitespace>
</span></pre>
<div style='border: thin black ridge;padding:1cm;'>
<!--
To customize the appearance of the html that is emitted you must install
the BTE template system from:
http://ostermiller.org/bte/
-->
Syntax Highlighting created using the 
<a href='http://ostermiller.org/syntax/'>com.Ostermiller.Syntax</a> package.<br>
Thursday, July 05 2007 at 17:39
</div>
</body>
</html>
